(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9744],{98538:function(e,s,t){Promise.resolve().then(t.bind(t,74817))},74817:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(57437),r=t(2265),l=t(71245),c=t(99376),n=t(12381),i=t(79820),o=t(40279),d=t(75060),m=t(27648),u=t(55477),x=t(53459),h=t(59539);let p="pcg_terms_accepted";function f(){let{login:e,user:s,loading:t}=(0,l.a)(),f=(0,c.useRouter)(),[j,g]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[y,b]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),[C,_]=(0,r.useState)(!1);async function I(s){if(s.preventDefault(),b(null),!w){b("Debes aceptar los T\xe9rminos y Condiciones para continuar.");return}_(!0);try{await e(j,v),localStorage.setItem(p,"true")}catch(e){b(e.message)}finally{_(!1)}}return((0,r.useEffect)(()=>{"true"===localStorage.getItem(p)&&S(!0)},[]),(0,r.useEffect)(()=>{!t&&s&&f.replace("/cliente")},[s,t,f]),t||s)?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen text-muted-foreground",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 animate-spin mb-4"}),(0,a.jsx)("p",{children:"Cargando portal del cliente..."})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-muted/40",children:(0,a.jsxs)(i.Zb,{className:"w-full max-w-md mx-4",children:[(0,a.jsxs)(i.Ol,{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"mx-auto",children:(0,a.jsx)(h.K,{})}),(0,a.jsx)(i.ll,{className:"text-2xl",children:"Portal de Clientes"}),(0,a.jsx)(i.SZ,{children:"Ingrese con las credenciales proporcionadas para ver el avance de sus obras."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"email",children:"Correo electr\xf3nico"}),(0,a.jsx)(o.I,{id:"email",type:"email",value:j,onChange:e=>g(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsx)(o.I,{id:"password",type:"password",value:v,onChange:e=>N(e.target.value),required:!0})]}),(0,a.jsx)(u.Z,{acceptedTerms:w,onAcceptedTermsChange:e=>{S(e),e?localStorage.setItem(p,"true"):localStorage.removeItem(p)}}),y&&(0,a.jsx)("p",{className:"text-sm font-medium text-destructive text-center pt-2",children:y}),(0,a.jsxs)(n.z,{type:"submit",className:"w-full",disabled:C||!w,children:[C&&(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Ingresar al Portal"]})]})}),(0,a.jsx)(i.aY,{className:"text-center text-sm",children:(0,a.jsx)(m.default,{href:"/",className:"text-muted-foreground hover:text-primary",children:"‚Üê Volver a la selecci\xf3n de acceso"})})]})})}}},function(e){e.O(0,[4358,9990,6137,1211,2972,9759,2991,7127,2971,2117,1744],function(){return e(e.s=98538)}),_N_E=e.O()}]);