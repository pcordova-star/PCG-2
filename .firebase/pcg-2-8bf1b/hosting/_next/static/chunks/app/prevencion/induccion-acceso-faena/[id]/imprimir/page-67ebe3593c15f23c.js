(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5160],{3738:function(e,s,a){Promise.resolve().then(a.bind(a,83089))},83089:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var r=a(57437),n=a(29),d=a.n(n),t=a(2265),c=a(99376),i=a(5978),o=a(99764),l=a(12381);function x(){let{id:e}=(0,c.useParams)(),[s,a]=(0,t.useState)(null),[n,x]=(0,t.useState)(null),[b,f]=(0,t.useState)(!0),[m,j]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!e){j("No se proporcion\xf3 un ID de registro."),f(!1);return}(async()=>{f(!0),j(null);try{let s=(0,i.JU)(o.N$,"induccionesAccesoFaena",e),r=await (0,i.QT)(s);if(!r.exists())throw Error("No se encontr\xf3 el registro de inducci\xf3n con el ID proporcionado.");let n={id:r.id,...r.data()};a(n);let d=(0,i.JU)(o.N$,"obras",n.obraId),t=await (0,i.QT)(d);if(!t.exists())throw Error("No se encontr\xf3 la obra asociada a esta inducci\xf3n.");let c={id:t.id,...t.data()};x(c)}catch(e){console.error("Error fetching data:",e),j(e instanceof Error?e.message:"Ocurri\xf3 un error al cargar los datos.")}finally{f(!1)}})()},[e]);let h=e=>e?"S\xed":"No";return b?(0,r.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Cargando registro..."}):m?(0,r.jsx)("div",{className:"p-8 text-center text-destructive",children:m}):s&&n?(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 bg-background min-h-screen p-4 sm:p-8 print:bg-white print:p-0",children:[(0,r.jsx)(d(),{id:"8349f650b50ed3a4",children:"@media print{body{background-color:#fff;color:#000}.print-hidden{display:none!important}.printable-area{-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important;border:none!important;padding:0!important}}"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 max-w-3xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 flex justify-between items-center print-hidden",children:[(0,r.jsx)("h1",{className:"jsx-8349f650b50ed3a4 text-xl font-bold",children:"Vista Previa de Ficha de Inducci\xf3n"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 flex gap-2",children:[(0,r.jsx)(l.z,{variant:"outline",onClick:()=>window.history.back(),children:"Volver"}),(0,r.jsx)(l.z,{onClick:()=>{window.print()},children:"Imprimir / Guardar PDF"})]})]}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 printable-area p-8 border rounded-lg bg-card text-card-foreground shadow-md text-sm",children:[(0,r.jsx)("header",{className:"jsx-8349f650b50ed3a4 mb-6 border-b pb-4",children:(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("h2",{className:"jsx-8349f650b50ed3a4 text-2xl font-bold text-primary",children:"Inducci\xf3n de Acceso a Faena"}),(0,r.jsx)("p",{className:"jsx-8349f650b50ed3a4 text-muted-foreground",children:"Registro de Visitas / Proveedores / Inspectores"})]}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 text-right text-xs",children:[(0,r.jsx)("p",{className:"jsx-8349f650b50ed3a4 font-bold text-lg",children:"PCG 2.0"}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4 font-mono text-muted-foreground",children:["ID: ",s.id]})]})]})}),(0,r.jsxs)("section",{className:"jsx-8349f650b50ed3a4 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-8349f650b50ed3a4 font-bold text-base mb-2 border-b pb-1",children:"1. Datos de la Obra"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 grid grid-cols-2 gap-x-6 gap-y-1",children:[(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Raz\xf3n Social:"})," ",n.mandanteRazonSocial||"No especificada"]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"RUT:"})," ",n.mandanteRut||"No especificado"]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Nombre de Obra:"})," ",n.nombreFaena]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"C\xf3digo Obra:"})," ",n.id]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Mandante:"})," ",n.mandante||"No especificado"]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Ubicaci\xf3n:"})," ",n.direccion||"No especificada"]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Jefe de Obra:"})," ",n.jefeObraNombre||"No especificado"]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Prevencionista:"})," ",n.prevencionistaNombre||"No especificado"]})]})]}),(0,r.jsxs)("section",{className:"jsx-8349f650b50ed3a4 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-8349f650b50ed3a4 font-bold text-base mb-2 border-b pb-1",children:"2. Datos de la Persona"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 grid grid-cols-2 gap-x-6 gap-y-1",children:[(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Tipo de Visita:"})," ",s.tipoVisita]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Nombre Completo:"})," ",s.nombreCompleto]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"RUT:"})," ",s.rut]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Empresa:"})," ",s.empresa]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Cargo:"})," ",s.cargo]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Tel\xe9fono:"})," ",s.telefono]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Correo:"})," ",s.correo]})]})]}),(0,r.jsxs)("section",{className:"jsx-8349f650b50ed3a4 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-8349f650b50ed3a4 font-bold text-base mb-2 border-b pb-1",children:"3. Datos del Ingreso"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 grid grid-cols-2 gap-x-6 gap-y-1",children:[(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Fecha Ingreso:"})," ",s.fechaIngreso]}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:"Hora Ingreso:"})," ",s.horaIngreso]})]})]}),(0,r.jsxs)("section",{className:"jsx-8349f650b50ed3a4 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-8349f650b50ed3a4 font-bold text-base mb-2 border-b pb-1",children:"4. Comprensi\xf3n y Aceptaci\xf3n"}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 space-y-3",children:[(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("h4",{className:"jsx-8349f650b50ed3a4 font-semibold",children:"Preguntas de Comprensi\xf3n"}),(0,r.jsxs)("ul",{className:"jsx-8349f650b50ed3a4 list-disc pl-5 text-muted-foreground",children:[(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["\xbfDebe respetar siempre las indicaciones del personal de la obra? ",(0,r.jsxs)("strong",{className:"jsx-8349f650b50ed3a4",children:["(",s.respuestaPregunta1,")"]})]}),(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["\xbfEst\xe1 permitido caminar bajo cargas suspendidas? ",(0,r.jsxs)("strong",{className:"jsx-8349f650b50ed3a4",children:["(",s.respuestaPregunta2,")"]})]}),(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["En caso de emergencia, \xbfdebe seguir las rutas de evacuaci\xf3n? ",(0,r.jsxs)("strong",{className:"jsx-8349f650b50ed3a4",children:["(",s.respuestaPregunta3,")"]})]})]})]}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("h4",{className:"jsx-8349f650b50ed3a4 font-semibold",children:"Declaraciones y Compromisos"}),(0,r.jsxs)("ul",{className:"jsx-8349f650b50ed3a4 list-disc pl-5 text-muted-foreground",children:[(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["Declara haber le\xeddo y comprendido el Reglamento Especial: ",(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:h(s.aceptaReglamento)})]}),(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["Se compromete a utilizar los EPP requeridos: ",(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:h(s.aceptaEpp)})]}),(0,r.jsxs)("li",{className:"jsx-8349f650b50ed3a4",children:["Acepta el tratamiento de sus datos personales: ",(0,r.jsx)("strong",{className:"jsx-8349f650b50ed3a4",children:h(s.aceptaTratamientoDatos)})]})]})]})]})]}),(0,r.jsxs)("section",{className:"jsx-8349f650b50ed3a4",children:[(0,r.jsx)("h3",{className:"jsx-8349f650b50ed3a4 font-bold text-base mb-2 border-b pb-1",children:"5. Firma de Aceptaci\xf3n"}),(0,r.jsx)("div",{className:"jsx-8349f650b50ed3a4 border rounded-md bg-muted/20 p-4 h-40 flex items-center justify-center",children:s.firmaDataUrl?(0,r.jsx)("img",{src:s.firmaDataUrl,alt:"Firma del visitante",className:"jsx-8349f650b50ed3a4 max-h-full max-w-full object-contain"}):(0,r.jsx)("p",{className:"jsx-8349f650b50ed3a4 text-muted-foreground",children:"No se registr\xf3 firma digital."})}),(0,r.jsxs)("div",{className:"jsx-8349f650b50ed3a4 mt-2 text-center text-xs text-muted-foreground",children:[(0,r.jsx)("p",{className:"jsx-8349f650b50ed3a4",children:"Firma del visitante / proveedor / inspector"}),(0,r.jsxs)("p",{className:"jsx-8349f650b50ed3a4",children:["Fecha: ",s.fechaIngreso," - Hora: ",s.horaIngreso]})]})]})]})]})]}):(0,r.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No se encontraron los datos."})}},12381:function(e,s,a){"use strict";a.d(s,{d:function(){return i},z:function(){return o}});var r=a(57437),n=a(2265),d=a(37053),t=a(90535),c=a(93448);let i=(0,t.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,s)=>{let{className:a,variant:n,size:t,asChild:o=!1,...l}=e,x=o?d.g7:"button";return(0,r.jsx)(x,{className:(0,c.cn)(i({variant:n,size:t,className:a})),ref:s,...l})});o.displayName="Button"},99764:function(e,s,a){"use strict";let r,n,d,t,c;a.d(s,{IG:function(){return t},N$:function(){return d},lX:function(){return n},x2:function(){return c}});var i=a(738),o=a(43301),l=a(5978),x=a(60062),b=a(13491);let f={apiKey:"AIzaSyBfMp_dH9XhFSXEeMxY-Cdy8MDRIgWrxR0",authDomain:"pcg-2-8bf1b.firebaseapp.com",projectId:"pcg-2-8bf1b",storageBucket:"pcg-2-8bf1b.appspot.com",messagingSenderId:"1073834543546",appId:"1:1073834543546:web:2f85a4a8350280f8589737"};for(let e in f)if(Object.prototype.hasOwnProperty.call(f,e)&&!f[e]){let s=e.replace(/([A-Z])/g,"_$1").toUpperCase(),a="NEXT_PUBLIC_FIREBASE_".concat(s);throw Error("Error de configuraci\xf3n del cliente: La variable de entorno Firebase '".concat(a,"' no est\xe1 definida o est\xe1 vac\xeda. ")+"Aseg\xfarate de que est\xe9 configurada en tu archivo .env.local o en las variables de entorno de producci\xf3n.")}r=(0,i.C6)().length?(0,i.Mq)():(0,i.ZF)(f),n=(0,o.v0)(r),d=(0,l.ad)(r),t=(0,x.cF)(r),c=(0,b.$C)(r,"us-central1")},93448:function(e,s,a){"use strict";a.d(s,{cn:function(){return d}});var r=a(61994),n=a(53335);function d(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,n.m6)((0,r.W)(s))}}},function(e){e.O(0,[4358,9990,6137,1211,745,2971,2117,1744],function(){return e(e.s=3738)}),_N_E=e.O()}]);