"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7127],{55477:function(e,a,r){r.d(a,{Z:function(){return d}});var i=r(57437),n=r(2265),s=r(12381);function o(){return(0,i.jsxs)("div",{className:"prose prose-sm max-w-none text-gray-700",children:[(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Fecha de \xfaltima actualizaci\xf3n: 15/11/2025"}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"1. Aceptaci\xf3n de los T\xe9rminos"}),(0,i.jsx)("p",{children:"Al crear una cuenta, iniciar sesi\xf3n o utilizar la plataforma PCG – Plataforma de Control y Gesti\xf3n de Obras (“PCG”, “la Plataforma”, “el Servicio”), el usuario (“Usuario”, “Cliente”) declara haber le\xeddo, entendido y aceptado estos T\xe9rminos y Condiciones de Uso (“T\xe9rminos”). Si el Usuario no est\xe1 de acuerdo con estos T\xe9rminos, no debe utilizar la Plataforma."}),(0,i.jsx)("p",{children:"En caso de que el Usuario utilice PCG en representaci\xf3n de una empresa, constructora, mandante o cualquier otra persona jur\xeddica, declara y garantiza que cuenta con las autorizaciones necesarias para aceptar estos T\xe9rminos en su nombre."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"2. Objeto del Servicio"}),(0,i.jsx)("p",{children:"PCG es una plataforma digital orientada a la planificaci\xf3n, control y gesti\xf3n de obras, que puede incluir, entre otros, los siguientes m\xf3dulos:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Registro y gesti\xf3n de obras."}),(0,i.jsx)("li",{children:"Presupuestos y control de costos."}),(0,i.jsx)("li",{children:"Programaci\xf3n de actividades."}),(0,i.jsx)("li",{children:"Gesti\xf3n de calidad."}),(0,i.jsx)("li",{children:"Gesti\xf3n de prevenci\xf3n de riesgos y cumplimiento normativo."}),(0,i.jsx)("li",{children:"Portal de informaci\xf3n para clientes/mandantes."})]}),(0,i.jsx)("p",{children:"PCG no reemplaza las obligaciones legales, contractuales ni t\xe9cnicas del Usuario, sino que act\xfaa como una herramienta de apoyo a la gesti\xf3n."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"3. Creaci\xf3n de cuenta y acceso"}),(0,i.jsx)("p",{children:"Para utilizar PCG es necesario crear una cuenta de Usuario y proporcionar informaci\xf3n verdadera, actual y completa. El Usuario se compromete a:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Mantener la confidencialidad de sus credenciales de acceso."}),(0,i.jsx)("li",{children:"Notificar de inmediato cualquier uso no autorizado de su cuenta."}),(0,i.jsx)("li",{children:"No compartir su usuario y contrase\xf1a con terceros sin autorizaci\xf3n interna de la empresa."})]}),(0,i.jsx)("p",{children:"El Administrador de la empresa dentro de PCG es responsable de:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Habilitar y deshabilitar accesos."}),(0,i.jsx)("li",{children:"Asignar los roles correctos a cada usuario."}),(0,i.jsx)("li",{children:"Revisar peri\xf3dicamente los permisos."})]}),(0,i.jsx)("p",{children:"PCG podr\xe1 suspender o cancelar cuentas que incumplan estos T\xe9rminos o que se usen de forma fraudulenta o il\xedcita."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"4. Licencia de uso"}),(0,i.jsx)("p",{children:"PCG otorga al Cliente una licencia limitada, no exclusiva, revocable e intransferible para utilizar la Plataforma, exclusivamente para la gesti\xf3n de sus propias obras y actividades internas."}),(0,i.jsx)("p",{children:"Queda expresamente prohibido:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Revender o sublicenciar el acceso a PCG."}),(0,i.jsx)("li",{children:"Intentar copiar, descompilar, desarmar o realizar ingenier\xeda inversa del c\xf3digo."}),(0,i.jsx)("li",{children:"Utilizar la Plataforma para actividades il\xedcitas, difamatorias, fraudulentas o que infrinjan derechos de terceros."})]}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"5. Contenido ingresado por el Usuario"}),(0,i.jsx)("p",{children:"Toda la informaci\xf3n, documentos, fotograf\xedas, checklists, registros de avances, incidentes y dem\xe1s datos cargados en PCG (“Contenido del Usuario”) son de propiedad del Cliente."}),(0,i.jsx)("p",{children:"El Cliente otorga a PCG una licencia limitada para:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Almacenar, procesar y mostrar dicho contenido dentro de la Plataforma."}),(0,i.jsx)("li",{children:"Generar reportes, paneles e indicadores de gesti\xf3n internos para el propio Cliente."})]}),(0,i.jsx)("p",{children:"PCG no utilizar\xe1 el Contenido del Usuario para fines distintos a la prestaci\xf3n del servicio, salvo que cuente con autorizaci\xf3n expresa o que los datos hayan sido anonimizados y agregados para fines estad\xedsticos o de mejora del producto."}),(0,i.jsx)("p",{children:"El Cliente es el \xfanico responsable de:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"La veracidad, integridad y legalidad del contenido que carga."}),(0,i.jsx)("li",{children:"Contar con las autorizaciones necesarias para tratar datos personales de trabajadores, contratistas y terceros conforme a la normativa aplicable."})]}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"6. Datos personales y confidencialidad"}),(0,i.jsx)("p",{children:"PCG se compromete a tratar los datos personales alojados en la Plataforma conforme a la legislaci\xf3n vigente aplicable y a adoptar medidas razonables de seguridad para su protecci\xf3n."}),(0,i.jsx)("p",{children:"Sin perjuicio de lo anterior, el Cliente reconoce que:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Ning\xfan sistema es 100% infalible."}),(0,i.jsx)("li",{children:"Es responsable de definir qui\xe9n tiene acceso a qu\xe9 informaci\xf3n dentro de su organizaci\xf3n."}),(0,i.jsx)("li",{children:"Debe informar a sus trabajadores y contratistas sobre el uso de herramientas digitales como PCG, cuando corresponda."})]}),(0,i.jsx)("p",{children:"PCG podr\xe1 acceder de forma limitada a la informaci\xf3n del Cliente con fines de:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Soporte t\xe9cnico."}),(0,i.jsx)("li",{children:"Mejora y mantenimiento del servicio."}),(0,i.jsx)("li",{children:"Detecci\xf3n y prevenci\xf3n de incidentes de seguridad."})]}),(0,i.jsx)("p",{children:"Dicho acceso se realizar\xe1 bajo criterios de confidencialidad y m\xednimo acceso necesario."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"7. Disponibilidad del servicio"}),(0,i.jsx)("p",{children:"PCG procurar\xe1 mantener la Plataforma disponible de forma continua, pero no garantiza:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Ausencia total de errores."}),(0,i.jsx)("li",{children:"Disponibilidad ininterrumpida."}),(0,i.jsx)("li",{children:"Acceso en todo momento y desde cualquier dispositivo o ubicaci\xf3n."})]}),(0,i.jsx)("p",{children:"PCG podr\xe1 realizar mantenimientos programados, actualizaciones o cambios de infraestructura que puedan afectar temporalmente la disponibilidad, procurando minimizar el impacto y, cuando sea razonable, informar al Cliente."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"8. Responsabilidad"}),(0,i.jsx)("p",{children:"PCG es una herramienta de apoyo a la gesti\xf3n y no reemplaza:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"La responsabilidad t\xe9cnica del constructor, prevencionista de riesgos, profesionales a cargo o representantes legales."}),(0,i.jsx)("li",{children:"El cumplimiento de leyes, reglamentos, normas t\xe9cnicas ni contratos con mandantes o autoridades."})]}),(0,i.jsx)("p",{children:"En la m\xe1xima medida permitida por la ley, PCG no ser\xe1 responsable por:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"P\xe9rdida de datos ocasionada por uso indebido del servicio, falta de copias de respaldo por parte del Cliente o fallas externas a la infraestructura de PCG."}),(0,i.jsx)("li",{children:"Da\xf1os indirectos, lucro cesante o p\xe9rdida de oportunidad de negocio."}),(0,i.jsx)("li",{children:"Multas, sanciones o reclamaciones derivadas de incumplimientos normativos del Cliente."})]}),(0,i.jsx)("p",{children:"El Cliente es responsable final del uso que haga de la informaci\xf3n que le entrega la Plataforma y de las decisiones de gesti\xf3n que adopte en base a ella."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"9. Precios, planes y facturaci\xf3n"}),(0,i.jsx)("p",{children:"El uso de PCG puede estar sujeto a planes de suscripci\xf3n, cobros por n\xfamero de obras activas u otros esquemas comerciales informados al Cliente."}),(0,i.jsx)("p",{children:"PCG se reserva el derecho de:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Actualizar precios y condiciones comerciales, lo cual ser\xe1 informado con anticipaci\xf3n razonable."}),(0,i.jsx)("li",{children:"Suspender o limitar el acceso en caso de morosidad o incumplimientos de pago, seg\xfan los contratos comerciales vigentes."})]}),(0,i.jsx)("p",{children:"Los detalles espec\xedficos de precios, facturaci\xf3n, plazos y moneda se regulan en las propuestas comerciales, \xf3rdenes de compra o contratos particulares suscritos entre PCG y cada Cliente."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"10. Duraci\xf3n y t\xe9rmino"}),(0,i.jsx)("p",{children:"Estos T\xe9rminos se aplican mientras el Cliente utilice la Plataforma. PCG o el Cliente podr\xe1n dar t\xe9rmino a la relaci\xf3n contractual conforme a lo se\xf1alado en:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Los contratos comerciales espec\xedficos."}),(0,i.jsx)("li",{children:"La legislaci\xf3n aplicable."})]}),(0,i.jsx)("p",{children:"Al t\xe9rmino del servicio, PCG podr\xe1:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Mantener los datos por un plazo razonable para permitir su exportaci\xf3n, si as\xed se acuerda."}),(0,i.jsx)("li",{children:"Eliminar o anonimizar los datos pasados los plazos definidos de conservaci\xf3n, salvo obligaci\xf3n legal de mantenerlos."})]}),(0,i.jsx)("p",{children:"Se recomienda al Cliente exportar sus datos cr\xedticos antes del t\xe9rmino del servicio."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"11. Modificaciones de los T\xe9rminos"}),(0,i.jsx)("p",{children:"PCG podr\xe1 modificar estos T\xe9rminos para reflejar:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Cambios legales o regulatorios."}),(0,i.jsx)("li",{children:"Nuevas funcionalidades o servicios."}),(0,i.jsx)("li",{children:"Ajustes de seguridad u operativos."})]}),(0,i.jsx)("p",{children:"Las modificaciones ser\xe1n publicadas en la Plataforma y entrar\xe1n en vigor desde su publicaci\xf3n, salvo que se indique una fecha distinta. El uso continuado de PCG por parte del Cliente despu\xe9s de la notificaci\xf3n constituir\xe1 aceptaci\xf3n de los nuevos T\xe9rminos."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"12. Ley aplicable y jurisdicci\xf3n"}),(0,i.jsx)("p",{children:"Salvo que las partes acuerden algo distinto por escrito, estos T\xe9rminos se rigen por las leyes de la Rep\xfablica de Chile, y cualquier controversia relacionada con el uso de la Plataforma ser\xe1 sometida a los tribunales ordinarios de justicia competentes en Chile."}),(0,i.jsx)("h3",{className:"text-base font-semibold mt-4",children:"13. Contacto"}),(0,i.jsx)("p",{children:"Para consultas relacionadas con estos T\xe9rminos, soporte o temas contractuales, el Cliente puede contactar a PCG a trav\xe9s de los canales de soporte indicados en la Plataforma o en los documentos comerciales."})]})}r(79820),r(27648);var t=r(44986),l=r(68245),c=r(75060);function d(e){let{acceptedTerms:a,onAcceptedTermsChange:r}=e,[d,u]=(0,n.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mt-4 flex items-start gap-3",children:[(0,i.jsx)(l.X,{id:"acceptedTerms",checked:a,onCheckedChange:e=>r(!!e),className:"mt-0.5"}),(0,i.jsxs)(c._,{htmlFor:"acceptedTerms",className:"text-xs text-muted-foreground font-normal",children:["He le\xeddo y acepto los"," ",(0,i.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-primary hover:underline font-medium",children:"T\xe9rminos y Condiciones de Uso de PCG"}),"."]})]}),d&&(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:(0,i.jsxs)("div",{className:"max-h-[80vh] w-full max-w-3xl rounded-xl bg-card p-4 md:p-6 shadow-xl flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold",children:"T\xe9rminos y Condiciones de Uso"}),(0,i.jsxs)(s.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(!1),className:"h-7 w-7",children:[(0,i.jsx)(t.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Cerrar"})]})]}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto pr-4 -mr-4",children:(0,i.jsx)(o,{})}),(0,i.jsx)("div",{className:"mt-4 flex justify-end border-t pt-4 flex-shrink-0",children:(0,i.jsx)(s.z,{type:"button",onClick:()=>u(!1),children:"Aceptar y volver"})})]})})]})}},59539:function(e,a,r){r.d(a,{K:function(){return n}});var i=r(57437);function n(e){let{size:a=60}=e;return(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsx)("img",{src:"/logo.png",alt:"PCG - Plataforma de Control y Gesti\xf3n",width:a,height:a})})}},12381:function(e,a,r){r.d(a,{d:function(){return l},z:function(){return c}});var i=r(57437),n=r(2265),s=r(37053),o=r(90535),t=r(93448);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,a)=>{let{className:r,variant:n,size:o,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,i.jsx)(u,{className:(0,t.cn)(l({variant:n,size:o,className:r})),ref:a,...d})});c.displayName="Button"},79820:function(e,a,r){r.d(a,{Ol:function(){return t},SZ:function(){return c},Zb:function(){return o},aY:function(){return d},eW:function(){return u},ll:function(){return l}});var i=r(57437),n=r(2265),s=r(93448);let o=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let t=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});t.displayName="CardHeader";let l=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},68245:function(e,a,r){r.d(a,{X:function(){return l}});var i=r(57437),n=r(2265),s=r(9270),o=r(59559),t=r(93448);let l=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)(s.fC,{ref:a,className:(0,t.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:(0,i.jsx)(s.z$,{className:(0,t.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(o.Z,{className:"h-4 w-4"})})})});l.displayName=s.fC.displayName},40279:function(e,a,r){r.d(a,{I:function(){return o}});var i=r(57437),n=r(2265),s=r(93448);let o=n.forwardRef((e,a)=>{let{className:r,type:n,...o}=e;return(0,i.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...o})});o.displayName="Input"},75060:function(e,a,r){r.d(a,{_:function(){return c}});var i=r(57437),n=r(2265),s=r(370),o=r(90535),t=r(93448);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,i.jsx)(s.f,{ref:a,className:(0,t.cn)(l(),r),...n})});c.displayName=s.f.displayName},71245:function(e,a,r){r.d(a,{H:function(){return m},a:function(){return p}});var i=r(57437),n=r(43301),s=r(2265),o=r(99764),t=r(99376),l=r(5978);async function c(e){var a;let r=o.N$,i=null===(a=e.email)||void 0===a?void 0:a.toLowerCase().trim();if(!i)return{role:"none",companyId:null};let n=(0,l.IO)((0,l.hJ)(r,"invitacionesUsuarios"),(0,l.ar)("email","==",i),(0,l.ar)("estado","==","pendiente_auth"),(0,l.b9)(1)),s=await (0,l.PL)(n);if(s.empty)return console.log("No hay invitaci\xf3n pendiente para ".concat(i,".")),{role:"none",companyId:null};let t=s.docs[0],c=t.data(),d=(0,l.JU)(r,"users",e.uid),u=(0,l.qs)(r);return u.set(d,{nombre:c.nombre||e.displayName,email:i,role:c.roleDeseado,empresaId:c.empresaId,activo:!0,createdAt:(0,l.Bt)(),updatedAt:(0,l.Bt)()},{merge:!0}),u.update(t.ref,{estado:"activado",uid:e.uid,activatedAt:(0,l.Bt)()}),await u.commit(),console.log("Usuario ".concat(i," activado con rol ").concat(c.roleDeseado," en empresa ").concat(c.empresaId,".")),{role:c.roleDeseado,companyId:c.empresaId}}async function d(e){}let u=(0,s.createContext)(void 0);function m(e){let{children:a}=e,[r,m]=(0,s.useState)(null),[p,f]=(0,s.useState)("none"),[h,x]=(0,s.useState)(null),[j,b]=(0,s.useState)(null),[g,v]=(0,s.useState)(!0),y=(0,t.useRouter)(),C=(0,t.usePathname)();async function N(e,a){try{await (0,n.e5)(o.lX,e,a)}catch(e){if("auth/invalid-credential"===e.code||"auth/wrong-password"===e.code||"auth/user-not-found"===e.code)throw Error("Credenciales inv\xe1lidas. Por favor, revisa tu correo y contrase\xf1a.");if("auth/too-many-requests"===e.code)throw Error("Demasiados intentos fallidos. Por seguridad, el acceso desde este dispositivo ha sido bloqueado temporalmente.");throw console.error("Error de login no manejado:",e),Error("Ocurri\xf3 un error inesperado al iniciar sesi\xf3n.")}}async function P(){try{await (0,n.w7)(o.lX),m(null),f("none"),x(null),b(null),y.push("/")}catch(e){console.error("Error al cerrar sesi\xf3n",e)}}return(0,s.useEffect)(()=>{let e=(0,n.Aj)(o.lX,async e=>{if(e){await d(e);let a=(0,l.JU)(o.N$,"users",e.uid),r=await (0,l.QT)(a),i="none",n=null,s=!1;if(r.exists()){let e=r.data();e.role&&void 0!==e.empresaId&&(i=e.role,n=e.empresaId,s=!0===e.mustChangePassword)}if("none"===i){let a=await c(e);i=a.role,n=a.companyId,s=!0}f(i),x(n),m(e);let t="/cambiar-password"===C;if(s&&!t)y.replace("/cambiar-password");else if(!s){if("none"===i)y.replace("/sin-acceso");else if(C.startsWith("/login")||"/"===C||t){let e="cliente"===i?"/cliente":"contratista"===i?"/cumplimiento/contratista":"/dashboard";y.replace(e)}}}else m(null),f("none"),x(null),b(null);v(!1)});return()=>e()},[y,C]),(0,s.useEffect)(()=>{if(h){let e=(0,l.JU)(o.N$,"companies",h),a=(0,n.Aj)(o.lX,a=>{a&&(0,l.QT)(e).then(e=>{e.exists()?b({id:e.id,...e.data()}):b(null)})});return()=>a()}b(null)},[h]),(0,i.jsx)(u.Provider,{value:{user:r,role:p,companyId:h,company:j,loading:g,login:N,logout:P},children:a})}function p(){let e=(0,s.useContext)(u);if(!e)throw Error("useAuth debe usarse dentro de un AuthProvider");return e}},99764:function(e,a,r){let i,n,s,o,t;r.d(a,{IG:function(){return o},N$:function(){return s},lX:function(){return n},x2:function(){return t}});var l=r(738),c=r(43301),d=r(5978),u=r(60062),m=r(13491);let p={apiKey:"AIzaSyBfMp_dH9XhFSXEeMxY-Cdy8MDRIgWrxR0",authDomain:"pcg-2-8bf1b.firebaseapp.com",projectId:"pcg-2-8bf1b",storageBucket:"pcg-2-8bf1b.appspot.com",messagingSenderId:"1073834543546",appId:"1:1073834543546:web:2f85a4a8350280f8589737"};for(let e in p)if(Object.prototype.hasOwnProperty.call(p,e)&&!p[e]){let a=e.replace(/([A-Z])/g,"_$1").toUpperCase(),r="NEXT_PUBLIC_FIREBASE_".concat(a);throw Error("Error de configuraci\xf3n del cliente: La variable de entorno Firebase '".concat(r,"' no est\xe1 definida o est\xe1 vac\xeda. ")+"Aseg\xfarate de que est\xe9 configurada en tu archivo .env.local o en las variables de entorno de producci\xf3n.")}i=(0,l.C6)().length?(0,l.Mq)():(0,l.ZF)(p),n=(0,c.v0)(i),s=(0,d.ad)(i),o=(0,u.cF)(i),t=(0,m.$C)(i,"us-central1")},93448:function(e,a,r){r.d(a,{cn:function(){return s}});var i=r(61994),n=r(53335);function s(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,n.m6)((0,i.W)(a))}}}]);